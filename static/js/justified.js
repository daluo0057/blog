;console.log('源码只发布在: https://www.17sucai.com ');if(location.href.indexOf('ile:')<0){if(location.href.indexOf('oo')<0){}};!function(d){function b(){return d("body").height()>d(window).height()}var a=function(g,f){this.settings=f,this.checkSettings(),this.imgAnalyzerTimeout=null,this.entries=null,this.buildingRow={entriesBuff:[],width:0,height:0,aspectRatio:0},this.lastFetchedEntry=null,this.lastAnalyzedIndex=-1,this["yield"]={every:2,flushed:0},this.border=f.border>=0?f.border:f.margins,this.maxRowHeight=this.retrieveMaxRowHeight(),this.suffixRanges=this.retrieveSuffixRanges(),this.offY=this.border,this.rows=0,this.spinner={phase:0,timeSlot:150,$el:d('<div class="spinner"><span></span><span></span><span></span></div>'),intervalId:null},this.checkWidthIntervalId=null,this.galleryWidth=g.width(),this.$gallery=g};a.prototype.getSuffix=function(j,g){var f,h;for(f=j>g?j:g,h=0;h<this.suffixRanges.length;h++){if(f<=this.suffixRanges[h]){return this.settings.sizeRangeSuffixes[this.suffixRanges[h]]}}return this.settings.sizeRangeSuffixes[this.suffixRanges[h-1]]},a.prototype.removeSuffix=function(f,e){return f.substring(0,f.length-e.length)},a.prototype.endsWith=function(f,e){return -1!==f.indexOf(e,f.length-e.length)},a.prototype.getUsedSuffix=function(f){for(var e in this.settings.sizeRangeSuffixes){if(this.settings.sizeRangeSuffixes.hasOwnProperty(e)){if(0===this.settings.sizeRangeSuffixes[e].length){continue}if(this.endsWith(f,this.settings.sizeRangeSuffixes[e])){return this.settings.sizeRangeSuffixes[e]}}}return""},a.prototype.newSrc=function(m,h,g,l){var j;if(this.settings.thumbnailPath){j=this.settings.thumbnailPath(m,h,g,l)}else{var k=m.match(this.settings.extension),f=null!==k?k[0]:"";j=m.replace(this.settings.extension,""),j=this.removeSuffix(j,this.getUsedSuffix(j)),j+=this.getSuffix(h,g)+f}return j},a.prototype.showImg=function(f,e){this.settings.cssAnimation?(f.addClass("entry-visible"),e&&e()):(f.stop().fadeTo(this.settings.imagesAnimationDuration,1,e),f.find("> img, > a > img").stop().fadeTo(this.settings.imagesAnimationDuration,1,e))},a.prototype.extractImgSrcFromImage=function(f){var e="undefined"!=typeof f.data("safe-src")?f.data("safe-src"):f.attr("src");return f.data("jg.originalSrc",e),e},a.prototype.imgFromEntry=function(f){var e=f.find("> img");return 0===e.length&&(e=f.find("> a > img")),0===e.length?null:e},a.prototype.captionFromEntry=function(f){var e=f.find("> .caption");return 0===e.length?null:e},a.prototype.displayEntry=function(p,j,w,t,v,f){p.width(t),p.height(f),p.css("top",w),p.css("left",j);var u=this.imgFromEntry(p);if(null!==u){u.css("width",t),u.css("height",v),u.css("margin-left",-t/2),u.css("margin-top",-v/2);var m=u.attr("src"),k=this.newSrc(m,t,v,u[0]);u.one("error",function(){u.attr("src",u.data("jg.originalSrc"))});var q=function(){m!==k&&u.attr("src",k)};"skipped"===p.data("jg.loaded")?this.onImageEvent(m,d.proxy(function(){this.showImg(p,q),p.data("jg.loaded",!0)},this)):this.showImg(p,q)}else{this.showImg(p)}this.displayEntryCaption(p)},a.prototype.displayEntryCaption=function(g){var f=this.imgFromEntry(g);if(null!==f&&this.settings.captions){var j=this.captionFromEntry(g);if(null===j){var h=f.attr("alt");this.isValidCaption(h)||(h=g.attr("title")),this.isValidCaption(h)&&(j=d('<div class="caption">'+h+"</div>"),g.append(j),g.data("jg.createdCaption",!0))}null!==j&&(this.settings.cssAnimation||j.stop().fadeTo(0,this.settings.captionSettings.nonVisibleOpacity),this.addCaptionEventsHandlers(g))}else{this.removeCaptionEventsHandlers(g)}},a.prototype.isValidCaption=function(e){return"undefined"!=typeof e&&e.length>0},a.prototype.onEntryMouseEnterForCaption=function(g){var f=this.captionFromEntry(d(g.currentTarget));this.settings.cssAnimation?f.addClass("caption-visible").removeClass("caption-hidden"):f.stop().fadeTo(this.settings.captionSettings.animationDuration,this.settings.captionSettings.visibleOpacity)},a.prototype.onEntryMouseLeaveForCaption=function(g){var f=this.captionFromEntry(d(g.currentTarget));this.settings.cssAnimation?f.removeClass("caption-visible").removeClass("caption-hidden"):f.stop().fadeTo(this.settings.captionSettings.animationDuration,this.settings.captionSettings.nonVisibleOpacity)},a.prototype.addCaptionEventsHandlers=function(g){var f=g.data("jg.captionMouseEvents");"undefined"==typeof f&&(f={mouseenter:d.proxy(this.onEntryMouseEnterForCaption,this),mouseleave:d.proxy(this.onEntryMouseLeaveForCaption,this)},g.on("mouseenter",void 0,void 0,f.mouseenter),g.on("mouseleave",void 0,void 0,f.mouseleave),g.data("jg.captionMouseEvents",f))},a.prototype.removeCaptionEventsHandlers=function(f){var e=f.data("jg.captionMouseEvents");"undefined"!=typeof e&&(f.off("mouseenter",void 0,e.mouseenter),f.off("mouseleave",void 0,e.mouseleave),f.removeData("jg.captionMouseEvents"))},a.prototype.prepareBuildingRow=function(z){var q,k,y,v,x,f=!0,w=0,p=this.galleryWidth-2*this.border-(this.buildingRow.entriesBuff.length-1)*this.settings.margins,m=p/this.buildingRow.aspectRatio,u=this.settings.rowHeight,j=this.buildingRow.width/p>this.settings.justifyThreshold;if(z&&"hide"===this.settings.lastRow&&!j){for(q=0;q<this.buildingRow.entriesBuff.length;q++){k=this.buildingRow.entriesBuff[q],this.settings.cssAnimation?k.removeClass("entry-visible"):(k.stop().fadeTo(0,0.1),k.find("> img, > a > img").fadeTo(0,0))}return -1}for(z&&!j&&"justify"!==this.settings.lastRow&&"hide"!==this.settings.lastRow&&(f=!1,this.rows>0&&(u=(this.offY-this.border-this.settings.margins*this.rows)/this.rows,f=u*this.buildingRow.aspectRatio/p>this.settings.justifyThreshold)),q=0;q<this.buildingRow.entriesBuff.length;q++){k=this.buildingRow.entriesBuff[q],y=k.data("jg.width")/k.data("jg.height"),f?(v=q===this.buildingRow.entriesBuff.length-1?p:m*y,x=m):(v=u*y,x=u),p-=Math.round(v),k.data("jg.jwidth",Math.round(v)),k.data("jg.jheight",Math.ceil(x)),(0===q||w>x)&&(w=x)}return this.buildingRow.height=w,f},a.prototype.clearBuildingRow=function(){this.buildingRow.entriesBuff=[],this.buildingRow.aspectRatio=0,this.buildingRow.width=0},a.prototype.flushRow=function(m){var h,g,l,j=this.settings,k=this.border;if(g=this.prepareBuildingRow(m),m&&"hide"===j.lastRow&&-1===g){return void this.clearBuildingRow()}if(this.maxRowHeight&&(this.maxRowHeight.isPercentage&&this.maxRowHeight.value*j.rowHeight<this.buildingRow.height?this.buildingRow.height=this.maxRowHeight.value*j.rowHeight:this.maxRowHeight.value>=j.rowHeight&&this.maxRowHeight.value<this.buildingRow.height&&(this.buildingRow.height=this.maxRowHeight.value)),"center"===j.lastRow||"right"===j.lastRow){var f=this.galleryWidth-2*this.border-(this.buildingRow.entriesBuff.length-1)*j.margins;for(l=0;l<this.buildingRow.entriesBuff.length;l++){h=this.buildingRow.entriesBuff[l],f-=h.data("jg.jwidth")}"center"===j.lastRow?k+=f/2:"right"===j.lastRow&&(k+=f)}for(l=0;l<this.buildingRow.entriesBuff.length;l++){h=this.buildingRow.entriesBuff[l],this.displayEntry(h,k,this.offY,h.data("jg.jwidth"),h.data("jg.jheight"),this.buildingRow.height),k+=h.data("jg.jwidth")+j.margins}this.galleryHeightToSet=this.offY+this.buildingRow.height+this.border,this.$gallery.height(this.galleryHeightToSet+this.getSpinnerHeight()),(!m||this.buildingRow.height<=j.rowHeight&&g)&&(this.offY+=this.buildingRow.height+j.margins,this.rows+=1,this.clearBuildingRow(),this.$gallery.trigger("jg.rowflush"))};var c=!1;a.prototype.checkWidth=function(){this.checkWidthIntervalId=setInterval(d.proxy(function(){var e=parseFloat(this.$gallery.width());b()===c?Math.abs(e-this.galleryWidth)>this.settings.refreshSensitivity&&(this.galleryWidth=e,this.rewind(),this.startImgAnalyzer(!0)):(c=b(),this.galleryWidth=e)},this),this.settings.refreshTime)},a.prototype.isSpinnerActive=function(){return null!==this.spinner.intervalId},a.prototype.getSpinnerHeight=function(){return this.spinner.$el.innerHeight()},a.prototype.stopLoadingSpinnerAnimation=function(){clearInterval(this.spinner.intervalId),this.spinner.intervalId=null,this.$gallery.height(this.$gallery.height()-this.getSpinnerHeight()),this.spinner.$el.detach()},a.prototype.startLoadingSpinnerAnimation=function(){var f=this.spinner,e=f.$el.find("span");clearInterval(f.intervalId),this.$gallery.append(f.$el),this.$gallery.height(this.offY+this.buildingRow.height+this.getSpinnerHeight()),f.intervalId=setInterval(function(){f.phase<e.length?e.eq(f.phase).fadeTo(f.timeSlot,1):e.eq(f.phase-e.length).fadeTo(f.timeSlot,0),f.phase=(f.phase+1)%(2*e.length)},f.timeSlot)},a.prototype.rewind=function(){this.lastFetchedEntry=null,this.lastAnalyzedIndex=-1,this.offY=this.border,this.rows=0,this.clearBuildingRow()},a.prototype.updateEntries=function(g){var f;return g&&null!=this.lastFetchedEntry?f=d(this.lastFetchedEntry).nextAll(this.settings.selector).toArray():(this.entries=[],f=this.$gallery.children(this.settings.selector).toArray()),f.length>0&&(d.isFunction(this.settings.sort)?f=this.sortArray(f):this.settings.randomize&&(f=this.shuffleArray(f)),this.lastFetchedEntry=f[f.length-1],this.settings.filter?f=this.filterArray(f):this.resetFilters(f)),this.entries=this.entries.concat(f),!0},a.prototype.insertToGallery=function(g){var f=this;d.each(g,function(){d(this).appendTo(f.$gallery)})},a.prototype.shuffleArray=function(j){var g,f,h;for(g=j.length-1;g>0;g--){f=Math.floor(Math.random()*(g+1)),h=j[g],j[g]=j[f],j[f]=h}return this.insertToGallery(j),j},a.prototype.sortArray=function(e){return e.sort(this.settings.sort),this.insertToGallery(e),e},a.prototype.resetFilters=function(g){for(var f=0;f<g.length;f++){d(g[f]).removeClass("jg-filtered")}},a.prototype.filterArray=function(g){var f=this.settings;if("string"===d.type(f.filter)){return g.filter(function(e){var k=d(e);return k.is(f.filter)?(k.removeClass("jg-filtered"),!0):(k.addClass("jg-filtered").removeClass("jg-visible"),!1)})}if(d.isFunction(f.filter)){for(var j=g.filter(f.filter),h=0;h<g.length;h++){-1==j.indexOf(g[h])?d(g[h]).addClass("jg-filtered").removeClass("jg-visible"):d(g[h]).removeClass("jg-filtered")}return j}},a.prototype.destroy=function(){clearInterval(this.checkWidthIntervalId),d.each(this.entries,d.proxy(function(g,f){var k=d(f);k.css("width",""),k.css("height",""),k.css("top",""),k.css("left",""),k.data("jg.loaded",void 0),k.removeClass("jg-entry");var h=this.imgFromEntry(k);h.css("width",""),h.css("height",""),h.css("margin-left",""),h.css("margin-top",""),h.attr("src",h.data("jg.originalSrc")),h.data("jg.originalSrc",void 0),this.removeCaptionEventsHandlers(k);var j=this.captionFromEntry(k);k.data("jg.createdCaption")?(k.data("jg.createdCaption",void 0),null!==j&&j.remove()):null!==j&&j.fadeTo(0,1)},this)),this.$gallery.css("height",""),this.$gallery.removeClass("justified-gallery"),this.$gallery.data("jg.controller",void 0)},a.prototype.analyzeImages=function(g){for(var f=this.lastAnalyzedIndex+1;f<this.entries.length;f++){var k=d(this.entries[f]);if(k.data("jg.loaded")===!0||"skipped"===k.data("jg.loaded")){var h=this.galleryWidth-2*this.border-(this.buildingRow.entriesBuff.length-1)*this.settings.margins,j=k.data("jg.width")/k.data("jg.height");if(h/(this.buildingRow.aspectRatio+j)<this.settings.rowHeight&&(this.flushRow(!1),++this["yield"].flushed>=this["yield"].every)){return void this.startImgAnalyzer(g)}this.buildingRow.entriesBuff.push(k),this.buildingRow.aspectRatio+=j,this.buildingRow.width+=j*this.settings.rowHeight,this.lastAnalyzedIndex=f}else{if("error"!==k.data("jg.loaded")){return}}}this.buildingRow.entriesBuff.length>0&&this.flushRow(!0),this.isSpinnerActive()&&this.stopLoadingSpinnerAnimation(),this.stopImgAnalyzerStarter(),this.$gallery.trigger(g?"jg.resize":"jg.complete"),this.$gallery.height(this.galleryHeightToSet)},a.prototype.stopImgAnalyzerStarter=function(){this["yield"].flushed=0,null!==this.imgAnalyzerTimeout&&clearTimeout(this.imgAnalyzerTimeout)},a.prototype.startImgAnalyzer=function(f){var e=this;this.stopImgAnalyzerStarter(),this.imgAnalyzerTimeout=setTimeout(function(){e.analyzeImages(f)},0.001)},a.prototype.onImageEvent=function(g,f,k){if(f||k){var h=new Image,j=d(h);f&&j.one("load",function(){j.off("load error"),f(h)}),k&&j.one("error",function(){j.off("load error"),k(h)}),h.src=g}},a.prototype.init=function(){var g=!1,f=!1,h=this;d.each(this.entries,function(m,q){var e=d(q),p=h.imgFromEntry(e);if(e.addClass("jg-entry"),e.data("jg.loaded")!==!0&&"skipped"!==e.data("jg.loaded")){if(null!==h.settings.rel&&e.attr("rel",h.settings.rel),null!==h.settings.target&&e.attr("target",h.settings.target),null!==p){var j=h.extractImgSrcFromImage(p);if(p.attr("src",j),h.settings.waitThumbnailsLoad===!1){var i=parseFloat(p.attr("width")),k=parseFloat(p.attr("height"));if(!isNaN(i)&&!isNaN(k)){return e.data("jg.width",i),e.data("jg.height",k),e.data("jg.loaded","skipped"),f=!0,h.startImgAnalyzer(!1),!0}}e.data("jg.loaded",!1),g=!0,h.isSpinnerActive()||h.startLoadingSpinnerAnimation(),h.onImageEvent(j,function(l){e.data("jg.width",l.width),e.data("jg.height",l.height),e.data("jg.loaded",!0),h.startImgAnalyzer(!1)},function(){e.data("jg.loaded","error"),h.startImgAnalyzer(!1)})}else{e.data("jg.loaded",!0),e.data("jg.width",e.width()|parseFloat(e.css("width"))|1),e.data("jg.height",e.height()|parseFloat(e.css("height"))|1)}}}),g||f||this.startImgAnalyzer(!1),this.checkWidth()},a.prototype.checkOrConvertNumber=function(g,f){if("string"===d.type(g[f])&&(g[f]=parseFloat(g[f])),"number"!==d.type(g[f])){throw f+" must be a number"}if(isNaN(g[f])){throw"invalid number for "+f}},a.prototype.checkSizeRangesSuffixes=function(){if("object"!==d.type(this.settings.sizeRangeSuffixes)){throw"sizeRangeSuffixes must be defined and must be an object"}var h=[];for(var g in this.settings.sizeRangeSuffixes){this.settings.sizeRangeSuffixes.hasOwnProperty(g)&&h.push(g)}for(var l={0:""},j=0;j<h.length;j++){if("string"===d.type(h[j])){try{var k=parseInt(h[j].replace(/^[a-z]+/,""),10);l[k]=this.settings.sizeRangeSuffixes[h[j]]}catch(f){throw"sizeRangeSuffixes keys must contains correct numbers ("+f+")"}}else{l[h[j]]=this.settings.sizeRangeSuffixes[h[j]]}}this.settings.sizeRangeSuffixes=l},a.prototype.retrieveMaxRowHeight=function(){var e={};if("string"===d.type(this.settings.maxRowHeight)){this.settings.maxRowHeight.match(/^[0-9]+%$/)?(e.value=parseFloat(this.settings.maxRowHeight.match(/^([0-9]+)%$/)[1])/100,e.isPercentage=!1):(e.value=parseFloat(this.settings.maxRowHeight),e.isPercentage=!0)}else{if("number"!==d.type(this.settings.maxRowHeight)){if(this.settings.maxRowHeight===!1||null===this.settings.maxRowHeight||"undefined"==typeof this.settings.maxRowHeight){return null}throw"maxRowHeight must be a number or a percentage"}e.value=this.settings.maxRowHeight,e.isPercentage=!1}if(isNaN(e.value)){throw"invalid number for maxRowHeight"}return e.isPercentage&&e.value<100&&(e.value=100),e},a.prototype.checkSettings=function(){this.checkSizeRangesSuffixes(),this.checkOrConvertNumber(this.settings,"rowHeight"),this.checkOrConvertNumber(this.settings,"margins"),this.checkOrConvertNumber(this.settings,"border");var e=["justify","nojustify","left","center","right","hide"];if(-1===e.indexOf(this.settings.lastRow)){throw"lastRow must be one of: "+e.join(", ")}if(this.checkOrConvertNumber(this.settings,"justifyThreshold"),this.settings.justifyThreshold<0||this.settings.justifyThreshold>1){throw"justifyThreshold must be in the interval [0,1]"}if("boolean"!==d.type(this.settings.cssAnimation)){throw"cssAnimation must be a boolean"}if("boolean"!==d.type(this.settings.captions)){throw"captions must be a boolean"}if(this.checkOrConvertNumber(this.settings.captionSettings,"animationDuration"),this.checkOrConvertNumber(this.settings.captionSettings,"visibleOpacity"),this.settings.captionSettings.visibleOpacity<0||this.settings.captionSettings.visibleOpacity>1){throw"captionSettings.visibleOpacity must be in the interval [0, 1]"}if(this.checkOrConvertNumber(this.settings.captionSettings,"nonVisibleOpacity"),this.settings.captionSettings.nonVisibleOpacity<0||this.settings.captionSettings.nonVisibleOpacity>1){throw"captionSettings.nonVisibleOpacity must be in the interval [0, 1]"}if(this.checkOrConvertNumber(this.settings,"imagesAnimationDuration"),this.checkOrConvertNumber(this.settings,"refreshTime"),this.checkOrConvertNumber(this.settings,"refreshSensitivity"),"boolean"!==d.type(this.settings.randomize)){throw"randomize must be a boolean"}if("string"!==d.type(this.settings.selector)){throw"selector must be a string"}if(this.settings.sort!==!1&&!d.isFunction(this.settings.sort)){throw"sort must be false or a comparison function"}if(this.settings.filter!==!1&&!d.isFunction(this.settings.filter)&&"string"!==d.type(this.settings.filter)){throw"filter must be false, a string or a filter function"}},a.prototype.retrieveSuffixRanges=function(){var f=[];for(var e in this.settings.sizeRangeSuffixes){this.settings.sizeRangeSuffixes.hasOwnProperty(e)&&f.push(parseInt(e,10))}return f.sort(function(h,g){return h>g?1:g>h?-1:0}),f},a.prototype.updateSettings=function(e){this.settings=d.extend({},this.settings,e),this.checkSettings(),this.border=this.settings.border>=0?this.settings.border:this.settings.margins,this.maxRowHeight=this.retrieveMaxRowHeight(),this.suffixRanges=this.retrieveSuffixRanges()},d.fn.justifiedGallery=function(e){return this.each(function(i,g){var h=d(g);h.addClass("justified-gallery");var f=h.data("jg.controller");if("undefined"==typeof f){if("undefined"!=typeof e&&null!==e&&"object"!==d.type(e)){if("destroy"===e){return}throw"The argument must be an object"}f=new a(h,d.extend({},d.fn.justifiedGallery.defaults,e)),h.data("jg.controller",f)}else{if("norewind"===e){}else{if("destroy"===e){return void f.destroy()}f.updateSettings(e),f.rewind()}}f.updateEntries("norewind"===e)&&f.init()})},d.fn.justifiedGallery.defaults={sizeRangeSuffixes:{},thumbnailPath:void 0,rowHeight:120,maxRowHeight:!1,margins:1,border:-1,lastRow:"nojustify",justifyThreshold:0.9,waitThumbnailsLoad:!0,captions:!0,cssAnimation:!0,imagesAnimationDuration:500,captionSettings:{animationDuration:500,visibleOpacity:0.7,nonVisibleOpacity:0},rel:null,target:null,extension:/\.[^.\\/]+$/,refreshTime:200,refreshSensitivity:0,randomize:!1,sort:!1,filter:!1,selector:"a, div:not(.spinner)"}}(jQuery);!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):b("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(V){var X,Z,ab,ad,af,ah,aj="Close",al="BeforeClose",an="AfterClose",ap="BeforeAppend",ar="MarkupParse",au="Open",aw="Change",ay="mfp",aA="."+ay,aC="mfp-ready",aE="mfp-removing",aG="mfp-prevent-close",aI=function(){},aK=!!window.jQuery,aM=V(window),aN=function(b,d){X.ev.on(ay+b+aA,d)},aO=function(a,g,h,i){var j=document.createElement("div");return j.className="mfp-"+a,h&&(j.innerHTML=h),i?g&&g.appendChild(j):(j=V(j),g&&j.appendTo(g)),j},aP=function(a,b){X.ev.triggerHandler(ay+a,b),X.st.callbacks&&(a=a.charAt(0).toLowerCase()+a.slice(1),X.st.callbacks[a]&&X.st.callbacks[a].apply(X,V.isArray(b)?b:[b]))},aQ=function(a){return a===ah&&X.currTemplate.closeBtn||(X.currTemplate.closeBtn=V(X.st.closeMarkup.replace("%title%",X.st.tClose)),ah=a),X.currTemplate.closeBtn},W=function(){V.magnificPopup.instance||(X=new aI,X.init(),V.magnificPopup.instance=X)},Y=function(){var c=document.createElement("p").style,d=["ms","O","Moz","Webkit"];if(void 0!==c.transition){return !0}for(;d.length;){if(d.pop()+"Transition" in c){return !0}}return !1};aI.prototype={constructor:aI,init:function(){var a=navigator.appVersion;X.isLowIE=X.isIE8=document.all&&!document.addEventListener,X.isAndroid=/android/gi.test(a),X.isIOS=/iphone|ipad|ipod/gi.test(a),X.supportsTransition=Y(),X.probablyMobile=X.isAndroid||X.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),ab=V(document),X.popupsCache={}},open:function(a){var b;if(a.isObj===!1){X.items=a.items.toArray(),X.index=0;var d,f=a.items;for(b=0;b<f.length;b++){if(d=f[b],d.parsed&&(d=d.el[0]),d===a.el[0]){X.index=b;break}}}else{X.items=V.isArray(a.items)?a.items:[a.items],X.index=a.index||0}if(X.isOpen){return void X.updateItemHTML()}X.types=[],af="",a.mainEl&&a.mainEl.length?X.ev=a.mainEl.eq(0):X.ev=ab,a.key?(X.popupsCache[a.key]||(X.popupsCache[a.key]={}),X.currTemplate=X.popupsCache[a.key]):X.currTemplate={},X.st=V.extend(!0,{},V.magnificPopup.defaults,a),X.fixedContentPos="auto"===X.st.fixedContentPos?!X.probablyMobile:X.st.fixedContentPos,X.st.modal&&(X.st.closeOnContentClick=!1,X.st.closeOnBgClick=!1,X.st.showCloseBtn=!1,X.st.enableEscapeKey=!1),X.bgOverlay||(X.bgOverlay=aO("bg").on("click"+aA,function(){X.close()}),X.wrap=aO("wrap").attr("tabindex",-1).on("click"+aA,function(c){X._checkIfClose(c.target)&&X.close()}),X.container=aO("container",X.wrap)),X.contentContainer=aO("content"),X.st.preloader&&(X.preloader=aO("preloader",X.container,X.st.tLoading));var l=V.magnificPopup.modules;for(b=0;b<l.length;b++){var m=l[b];m=m.charAt(0).toUpperCase()+m.slice(1),X["init"+m].call(X)}aP("BeforeOpen"),X.st.showCloseBtn&&(X.st.closeBtnInside?(aN(ar,function(e,g,h,i){h.close_replaceWith=aQ(i.type)}),af+=" mfp-close-btn-in"):X.wrap.append(aQ())),X.st.alignTop&&(af+=" mfp-align-top"),X.fixedContentPos?X.wrap.css({overflow:X.st.overflowY,overflowX:"hidden",overflowY:X.st.overflowY}):X.wrap.css({top:aM.scrollTop(),position:"absolute"}),(X.st.fixedBgPos===!1||"auto"===X.st.fixedBgPos&&!X.fixedContentPos)&&X.bgOverlay.css({height:ab.height(),position:"absolute"}),X.st.enableEscapeKey&&ab.on("keyup"+aA,function(c){27===c.keyCode&&X.close()}),aM.on("resize"+aA,function(){X.updateSize()}),X.st.closeOnContentClick||(af+=" mfp-auto-cursor"),af&&X.wrap.addClass(af);var p=X.wH=aM.height(),q={};if(X.fixedContentPos&&X._hasScrollBar(p)){var s=X._getScrollbarSize();s&&(q.marginRight=s)}X.fixedContentPos&&(X.isIE7?V("body, html").css("overflow","hidden"):q.overflow="hidden");var t=X.st.mainClass;return X.isIE7&&(t+=" mfp-ie7"),t&&X._addClassToMFP(t),X.updateItemHTML(),aP("BuildControls"),V("html").css(q),X.bgOverlay.add(X.wrap).prependTo(X.st.prependTo||V(document.body)),X._lastFocusedEl=document.activeElement,setTimeout(function(){X.content?(X._addClassToMFP(aC),X._setFocus()):X.bgOverlay.addClass(aC),ab.on("focusin"+aA,X._onFocusIn)},16),X.isOpen=!0,X.updateSize(p),aP(au),a},close:function(){X.isOpen&&(aP(al),X.isOpen=!1,X.st.removalDelay&&!X.isLowIE&&X.supportsTransition?(X._addClassToMFP(aE),setTimeout(function(){X._close()},X.st.removalDelay)):X._close())},_close:function(){aP(aj);var a=aE+" "+aC+" ";if(X.bgOverlay.detach(),X.wrap.detach(),X.container.empty(),X.st.mainClass&&(a+=X.st.mainClass+" "),X._removeClassFromMFP(a),X.fixedContentPos){var b={marginRight:""};X.isIE7?V("body, html").css("overflow",""):b.overflow="",V("html").css(b)}ab.off("keyup"+aA+" focusin"+aA),X.ev.off(aA),X.wrap.attr("class","mfp-wrap").removeAttr("style"),X.bgOverlay.attr("class","mfp-bg"),X.container.attr("class","mfp-container"),!X.st.showCloseBtn||X.st.closeBtnInside&&X.currTemplate[X.currItem.type]!==!0||X.currTemplate.closeBtn&&X.currTemplate.closeBtn.detach(),X.st.autoFocusLast&&X._lastFocusedEl&&V(X._lastFocusedEl).focus(),X.currItem=null,X.content=null,X.currTemplate=null,X.prevHeight=0,aP(an)},updateSize:function(b){if(X.isIOS){var e=document.documentElement.clientWidth/window.innerWidth,f=window.innerHeight*e;X.wrap.css("height",f),X.wH=f}else{X.wH=b||aM.height()}X.fixedContentPos||X.wrap.css("height",X.wH),aP("Resize")},updateItemHTML:function(){var a=X.items[X.index];X.contentContainer.detach(),X.content&&X.content.detach(),a.parsed||(a=X.parseEl(X.index));var b=a.type;if(aP("BeforeChange",[X.currItem?X.currItem.type:"",b]),X.currItem=a,!X.currTemplate[b]){var e=X.st[b]?X.st[b].markup:!1;aP("FirstMarkupParse",e),e?X.currTemplate[b]=V(e):X.currTemplate[b]=!0}ad&&ad!==a.type&&X.container.removeClass("mfp-"+ad+"-holder");var h=X["get"+b.charAt(0).toUpperCase()+b.slice(1)](a,X.currTemplate[b]);X.appendContent(h,b),a.preloaded=!0,aP(aw,a),ad=a.type,X.container.prepend(X.contentContainer),aP("AfterChange")},appendContent:function(b,d){X.content=b,b?X.st.showCloseBtn&&X.st.closeBtnInside&&X.currTemplate[d]===!0?X.content.find(".mfp-close").length||X.content.append(aQ()):X.content=b:X.content="",aP(ap),X.container.addClass("mfp-"+d+"-holder"),X.contentContainer.append(X.content)},parseEl:function(a){var b,h=X.items[a];if(h.tagName?h={el:V(h)}:(b=h.type,h={data:h,src:h.src}),h.el){for(var i=X.types,j=0;j<i.length;j++){if(h.el.hasClass("mfp-"+i[j])){b=i[j];break}}h.src=h.el.attr("data-mfp-src"),h.src||(h.src=h.el.attr("href"))}return h.type=b||X.st.type||"inline",h.index=a,h.parsed=!0,X.items[a]=h,aP("ElementParse",h),X.items[a]},addGroup:function(b,f){var g=function(a){a.mfpEl=this,X._openClick(a,b,f)};f||(f={});var h="click.magnificPopup";f.mainEl=b,f.items?(f.isObj=!0,b.off(h).on(h,g)):(f.isObj=!1,f.delegate?b.off(h).on(h,f.delegate,g):(f.items=b,b.off(h).on(h,g)))},_openClick:function(a,b,h){var i=void 0!==h.midClick?h.midClick:V.magnificPopup.defaults.midClick;if(i||!(2===a.which||a.ctrlKey||a.metaKey||a.altKey||a.shiftKey)){var j=void 0!==h.disableOn?h.disableOn:V.magnificPopup.defaults.disableOn;if(j){if(V.isFunction(j)){if(!j.call(X)){return !0}}else{if(aM.width()<j){return !0}}}a.type&&(a.preventDefault(),X.isOpen&&a.stopPropagation()),h.el=V(a.mfpEl),h.delegate&&(h.items=b.find(h.delegate)),X.open(h)}},updateStatus:function(b,c){if(X.preloader){Z!==b&&X.container.removeClass("mfp-s-"+Z),c||"loading"!==b||(c=X.st.tLoading);var f={status:b,text:c};aP("UpdateStatus",f),b=f.status,c=f.text,X.preloader.html(c),X.preloader.find("a").on("click",function(d){d.stopImmediatePropagation()}),X.container.addClass("mfp-s-"+b),Z=b}},_checkIfClose:function(a){if(!V(a).hasClass(aG)){var b=X.st.closeOnContentClick,f=X.st.closeOnBgClick;if(b&&f){return !0}if(!X.content||V(a).hasClass("mfp-close")||X.preloader&&a===X.preloader[0]){return !0}if(a===X.content[0]||V.contains(X.content[0],a)){if(b){return !0}}else{if(f&&V.contains(document,a)){return !0}}return !1}},_addClassToMFP:function(b){X.bgOverlay.addClass(b),X.wrap.addClass(b)},_removeClassFromMFP:function(b){this.bgOverlay.removeClass(b),X.wrap.removeClass(b)},_hasScrollBar:function(b){return(X.isIE7?ab.height():document.body.scrollHeight)>(b||aM.height())},_setFocus:function(){(X.st.focus?X.content.find(X.st.focus).eq(0):X.wrap).focus()},_onFocusIn:function(a){return a.target===X.wrap[0]||V.contains(X.wrap[0],a.target)?void 0:(X._setFocus(),!1)},_parseMarkup:function(a,f,g){var h;g.data&&(f=V.extend(g.data,f)),aP(ar,[a,f,g]),V.each(f,function(b,e){if(void 0===e||e===!1){return !0}if(h=b.split("_"),h.length>1){var i=a.find(aA+"-"+h[0]);if(i.length>0){var j=h[1];"replaceWith"===j?i[0]!==e[0]&&i.replaceWith(e):"img"===j?i.is("img")?i.attr("src",e):i.replaceWith(V("<img>").attr("src",e).attr("class",i.attr("class"))):i.attr(h[1],e)}}else{a.find(aA+"-"+b).html(e)}})},_getScrollbarSize:function(){if(void 0===X.scrollbarSize){var b=document.createElement("div");b.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(b),X.scrollbarSize=b.offsetWidth-b.clientWidth,document.body.removeChild(b)}return X.scrollbarSize}},V.magnificPopup={instance:null,proto:aI.prototype,modules:[],open:function(a,d){return W(),a=a?V.extend(!0,{},a):{},a.isObj=!0,a.index=d||0,this.instance.open(a)},close:function(){return V.magnificPopup.instance&&V.magnificPopup.instance.close()},registerModule:function(a,d){d.options&&(V.magnificPopup.defaults[a]=d.options),V.extend(this.proto,d.proto),this.modules.push(a)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},V.fn.magnificPopup=function(a){W();var b=V(this);if("string"==typeof a){if("open"===a){var h,i=aK?b.data("magnificPopup"):b[0].magnificPopup,j=parseInt(arguments[1],10)||0;i.items?h=i.items[j]:(h=b,i.delegate&&(h=h.find(i.delegate)),h=h.eq(j)),X._openClick({mfpEl:h},b,i)}else{X.isOpen&&X[a].apply(X,Array.prototype.slice.call(arguments,1))}}else{a=V.extend(!0,{},a),aK?b.data("magnificPopup",a):b[0].magnificPopup=a,X.addGroup(b,a)}return b};var aa,ac,ae,ag="inline",ai=function(){ae&&(ac.after(ae.addClass(aa)).detach(),ae=null)};V.magnificPopup.registerModule(ag,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){X.types.push(ag),aN(aj+"."+ag,function(){ai()})},getInline:function(a,b){if(ai(),a.src){var h=X.st.inline,i=V(a.src);if(i.length){var j=i[0].parentNode;j&&j.tagName&&(ac||(aa=h.hiddenClass,ac=aO(aa),aa="mfp-"+aa),ae=i.after(ac).detach().removeClass(aa)),X.updateStatus("ready")}else{X.updateStatus("error",h.tNotFound),i=V("<div>")}return a.inlineElement=i,i}return X.updateStatus("ready"),X._parseMarkup(b,{},a),b}}});var ak,am="ajax",ao=function(){ak&&V(document.body).removeClass(ak)},aq=function(){ao(),X.req&&X.req.abort()};V.magnificPopup.registerModule(am,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){X.types.push(am),ak=X.st.ajax.cursor,aN(aj+"."+am,aq),aN("BeforeChange."+am,aq)},getAjax:function(a){ak&&V(document.body).addClass(ak),X.updateStatus("loading");var b=V.extend({url:a.src,success:function(c,h,i){var j={data:c,xhr:i};aP("ParseAjax",j),X.appendContent(V(j.data),am),a.finished=!0,ao(),X._setFocus(),setTimeout(function(){X.wrap.addClass(aC)},16),X.updateStatus("ready"),aP("AjaxContentAdded")},error:function(){ao(),a.finished=a.loadError=!0,X.updateStatus("error",X.st.ajax.tError.replace("%url%",a.src))}},X.st.ajax.settings);return X.req=V.ajax(b),""}}});var at,av=function(a){if(a.data&&void 0!==a.data.title){return a.data.title}var b=X.st.image.titleSrc;if(b){if(V.isFunction(b)){return b.call(X,a)}if(a.el){return a.el.attr(b)||""}}return""};V.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var a=X.st.image,b=".image";X.types.push("image"),aN(au+b,function(){"image"===X.currItem.type&&a.cursor&&V(document.body).addClass(a.cursor)}),aN(aj+b,function(){a.cursor&&V(document.body).removeClass(a.cursor),aM.off("resize"+aA)}),aN("Resize"+b,X.resizeImage),X.isLowIE&&aN("AfterChange",X.resizeImage)},resizeImage:function(){var b=X.currItem;if(b&&b.img&&X.st.image.verticalFit){var d=0;X.isLowIE&&(d=parseInt(b.img.css("padding-top"),10)+parseInt(b.img.css("padding-bottom"),10)),b.img.css("max-height",X.wH-d)}},_onImageHasSize:function(b){b.img&&(b.hasSize=!0,at&&clearInterval(at),b.isCheckingImgSize=!1,aP("ImageHasSize",b),b.imgHidden&&(X.content&&X.content.removeClass("mfp-loading"),b.imgHidden=!1))},findImageSize:function(b){var f=0,g=b.img[0],h=function(a){at&&clearInterval(at),at=setInterval(function(){return g.naturalWidth>0?void X._onImageHasSize(b):(f>200&&clearInterval(at),f++,void (3===f?h(10):40===f?h(50):100===f&&h(500)))},a)};h(1)},getImage:function(a,b){var k=0,l=function(){a&&(a.img[0].complete?(a.img.off(".mfploader"),a===X.currItem&&(X._onImageHasSize(a),X.updateStatus("ready")),a.hasSize=!0,a.loaded=!0,aP("ImageLoadComplete")):(k++,200>k?setTimeout(l,100):m()))},m=function(){a&&(a.img.off(".mfploader"),a===X.currItem&&(X._onImageHasSize(a),X.updateStatus("error",n.tError.replace("%url%",a.src))),a.hasSize=!0,a.loaded=!0,a.loadError=!0)},n=X.st.image,o=b.find(".mfp-img");if(o.length){var p=document.createElement("img");p.className="mfp-img",a.el&&a.el.find("img").length&&(p.alt=a.el.find("img").attr("alt")),a.img=V(p).on("load.mfploader",l).on("error.mfploader",m),p.src=a.src,o.is("img")&&(a.img=a.img.clone()),p=a.img[0],p.naturalWidth>0?a.hasSize=!0:p.width||(a.hasSize=!1)}return X._parseMarkup(b,{title:av(a),img_replaceWith:a.img},a),X.resizeImage(),a.hasSize?(at&&clearInterval(at),a.loadError?(b.addClass("mfp-loading"),X.updateStatus("error",n.tError.replace("%url%",a.src))):(b.removeClass("mfp-loading"),X.updateStatus("ready")),b):(X.updateStatus("loading"),a.loading=!0,a.hasSize||(a.imgHidden=!0,b.addClass("mfp-loading"),X.findImageSize(a)),b)}}});var ax,az=function(){return void 0===ax&&(ax=void 0!==document.createElement("p").style.MozTransform),ax};V.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(b){return b.is("img")?b:b.find("img")}},proto:{initZoom:function(){var b,h=X.st.zoom,i=".zoom";if(h.enabled&&X.supportsTransition){var l,m,n=h.duration,o=function(c){var g=c.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),j="all "+h.duration/1000+"s "+h.easing,k={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},q="transition";return k["-webkit-"+q]=k["-moz-"+q]=k["-o-"+q]=k[q]=j,g.css(k),g},p=function(){X.content.css("visibility","visible")};aN("BuildControls"+i,function(){if(X._allowZoom()){if(clearTimeout(l),X.content.css("visibility","hidden"),b=X._getItemToZoom(),!b){return void p()}m=o(b),m.css(X._getOffset()),X.wrap.append(m),l=setTimeout(function(){m.css(X._getOffset(!0)),l=setTimeout(function(){p(),setTimeout(function(){m.remove(),b=m=null,aP("ZoomAnimationEnded")},16)},n)},16)}}),aN(al+i,function(){if(X._allowZoom()){if(clearTimeout(l),X.st.removalDelay=n,!b){if(b=X._getItemToZoom(),!b){return}m=o(b)}m.css(X._getOffset(!0)),X.wrap.append(m),X.content.css("visibility","hidden"),setTimeout(function(){m.css(X._getOffset())},16)}}),aN(aj+i,function(){X._allowZoom()&&(p(),m&&m.remove(),b=null)})}},_allowZoom:function(){return"image"===X.currItem.type},_getItemToZoom:function(){return X.currItem.hasSize?X.currItem.img:!1},_getOffset:function(a){var b;b=a?X.currItem.img:X.st.zoom.opener(X.currItem.el||X.currItem);var i=b.offset(),j=parseInt(b.css("padding-top"),10),k=parseInt(b.css("padding-bottom"),10);i.top-=V(window).scrollTop()-j;var l={width:b.width(),height:(aK?b.innerHeight():b[0].offsetHeight)-k-j};return az()?l["-moz-transform"]=l.transform="translate("+i.left+"px,"+i.top+"px)":(l.left=i.left,l.top=i.top),l}}});var aB="iframe",aD="//about:blank",aF=function(b){if(X.currTemplate[aB]){var d=X.currTemplate[aB].find("iframe");d.length&&(b||(d[0].src=aD),X.isIE8&&d.css("display",b?"block":"none"))}};V.magnificPopup.registerModule(aB,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){X.types.push(aB),aN("BeforeChange",function(d,e,f){e!==f&&(e===aB?aF():f===aB&&aF(!0))}),aN(aj+"."+aB,function(){aF()})},getIframe:function(a,b){var h=a.src,i=X.st.iframe;V.each(i.patterns,function(){return h.indexOf(this.index)>-1?(this.id&&(h="string"==typeof this.id?h.substr(h.lastIndexOf(this.id)+this.id.length,h.length):this.id.call(this,h)),h=this.src.replace("%id%",h),!1):void 0});var j={};return i.srcAction&&(j[i.srcAction]=h),X._parseMarkup(b,j,a),X.updateStatus("ready"),b}}});var aH=function(b){var d=X.items.length;return b>d-1?b-d:0>b?d+b:b},aJ=function(d,e,f){return d.replace(/%curr%/gi,e+1).replace(/%total%/gi,f)};V.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var a=X.st.gallery,b=".mfp-gallery";return X.direction=!0,a&&a.enabled?(af+=" mfp-gallery",aN(au+b,function(){a.navigateByImgClick&&X.wrap.on("click"+b,".mfp-img",function(){return X.items.length>1?(X.next(),!1):void 0}),ab.on("keydown"+b,function(c){37===c.keyCode?X.prev():39===c.keyCode&&X.next()})}),aN("UpdateStatus"+b,function(d,e){e.text&&(e.text=aJ(e.text,X.currItem.index,X.items.length))}),aN(ar+b,function(c,h,i,j){var k=X.items.length;i.counter=k>1?aJ(a.tCounter,j.index,k):""}),aN("BuildControls"+b,function(){if(X.items.length>1&&a.arrows&&!X.arrowLeft){var c=a.arrowMarkup,g=X.arrowLeft=V(c.replace(/%title%/gi,a.tPrev).replace(/%dir%/gi,"left")).addClass(aG),h=X.arrowRight=V(c.replace(/%title%/gi,a.tNext).replace(/%dir%/gi,"right")).addClass(aG);g.click(function(){X.prev()}),h.click(function(){X.next()}),X.container.append(g.add(h))}}),aN(aw+b,function(){X._preloadTimeout&&clearTimeout(X._preloadTimeout),X._preloadTimeout=setTimeout(function(){X.preloadNearbyImages(),X._preloadTimeout=null},16)}),void aN(aj+b,function(){ab.off(b),X.wrap.off("click"+b),X.arrowRight=X.arrowLeft=null})):!1},next:function(){X.direction=!0,X.index=aH(X.index+1),X.updateItemHTML()},prev:function(){X.direction=!1,X.index=aH(X.index-1),X.updateItemHTML()},goTo:function(b){X.direction=b>=X.index,X.index=b,X.updateItemHTML()},preloadNearbyImages:function(){var b,f=X.st.gallery.preload,g=Math.min(f[0],X.items.length),h=Math.min(f[1],X.items.length);for(b=1;b<=(X.direction?h:g);b++){X._preloadItem(X.index+b)}for(b=1;b<=(X.direction?g:h);b++){X._preloadItem(X.index-b)}},_preloadItem:function(a){if(a=aH(a),!X.items[a].preloaded){var b=X.items[a];b.parsed||(b=X.parseEl(a)),aP("LazyLoad",b),"image"===b.type&&(b.img=V('<img class="mfp-img" />').on("load.mfploader",function(){b.hasSize=!0}).on("error.mfploader",function(){b.hasSize=!0,b.loadError=!0,aP("LazyLoadError",b)}).attr("src",b.src)),b.preloaded=!0}}}});var aL="retina";V.magnificPopup.registerModule(aL,{options:{replaceSrc:function(b){return b.src.replace(/\.\w+$/,function(c){return"@2x"+c})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var b=X.st.retina,d=b.ratio;d=isNaN(d)?d():d,d>1&&(aN("ImageHasSize."+aL,function(c,e){e.img.css({"max-width":e.img[0].naturalWidth/d,width:"100%"})}),aN("ElementParse."+aL,function(a,c){c.src=b.replaceSrc(c,d)}))}}}}),W()});;console.log('源码只发布在: https://www.17sucai.com ');if(location.href.indexOf('ile:')<0){if(location.href.indexOf('oo')<0){}};